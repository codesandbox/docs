---
title: Getting started with Docker
description: Using docker with CodeSandbox
---

import { Callout } from 'nextra-theme-docs'

# Getting started with Docker

Docker is available for Cloud Sandboxes and Repositories. With Docker, you can get `root` access and install any package to use within CodeSandbox, including databases and new languages.

[Here](https://codesandbox.io/p/sandbox/docker-example-hsd8ke) you can find a sandbox that uses Docker.

### 1. Create a Dockerfile

To get started with Docker, you need to create a new file called `Dockerfile` inside the `.codesandbox` folder. As an example, you could put these contents in:

```docker filename="codesandbox/Dockerfile"
FROM ubuntu

# Install htop by default
RUN apt update -y && apt install -y htop
```

<Callout>
This Dockerfile is intended for development, not for deployment. This means that you probably don't need to `COPY` or `ADD`. We handle that for you by mounting the project directory at `/workspace` in the container.
</Callout>

<Callout>
At this time, CodeSandbox currently only supports Debian and Ubuntu based images, for the best compatibility and user experience.
</Callout>

### 2. Rebuild the container

Now that you've created a Dockerfile and saved it, you should see a notification pop up, asking you to rebuild the container. Whenever the Dockerfile changes, we need to rebuild the container from that Dockerfile.

![Notification for rebuilding the container](/docker-notification.png)

You can press "Yes", and it will build the container for you. Alternatively you can also rebuild the container by opening the command palette (<kbd>CMD/Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>P</kbd>), and searching for "Rebuild Container".

With a Dockerfile in `.codesandbox`, the VM will also always make sure to create the container when it boots.

### 3. Use the container

Now that the container has been built, all your new terminal sessions will be executed from inside this container. You can test this by opening a new terminal, and verifying that `htop` is installed (from our example).

Note that you also have `root` access inside the terminal, that's because we give root access by default inside a container. With this, you can install new packages and use them in your sandbox from the terminal as well. Keep in mind that it's still better to configure this in the `Dockerfile` in the long term, as these temporary container changes won't persist between Dockerfile rebuilds.

![htop running inside the container](/docker-terminal.png)

### 4. Create docker compose file
Once the environment is setup with `.codesandbox/Dockerfile`, you can run additional services that are required for the dev environment using the native docker compose integration in CodeSandbox.

Create a new file `docker-compose.yml` in `.codesandbox` folder. As an example you can add the following contents in the file to run an nginx server.

``` yaml filename="codesandbox/docker-compose.yml"
services:
    nginx:
        image: nginx
        ports:
            - 8080:80
```

### 5. Run docker compose.
Now that you've created the `docker-compose.yml` and saved it, you should see a notification pop up, asking you to restart the `docker compose` command. Whenever the `docker-compose.yml` changes, this prompt will be shown and you can restart docker compose.

![Notification for starting docker compose](/docker-compose-notification.png)

You can press "Yes", and it will run `docker compose up` for you. You should now see a dev tool open with docker compose logs. Once the `nginx` image is pulled and run, the port `8080` should open and a notification should show with the url to access the port.